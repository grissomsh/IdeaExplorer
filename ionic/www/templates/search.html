<ion-view view-title="Search">
  <ion-content class="padding page-bg">
  
<ion-list class="list-inset" ng-click="AdvancedShow=true">
  <ion-item class="item-input">
    <i class="icon ion-search placeholder-icon"></i>
    <input type="text" placeholder="Search" id="autocomplete" ng-model="search.keyword">
  </ion-item>
</ion-list>
<br>
  <ion-list class="list-inset cssSlideUp" ng-hide="!AdvancedShow">
  <ion-item class="item-input item-select">
  <div class="input-label">Upload Date</div>
    <select ng-model="search.date">
      <option>No Filter</option>
      <option>Last hour</option>
      <option>Today</option>
      <option>This Week</option>
      <option>This Month</option>
      <option>This Year</option>
    </select>
  </ion-item>
  <ion-item class="item-input item-select">
  <div class="input-label">Category</div>
    <select ng-model="search.category">
      <option>No Filter</option>
      <option>Infrastructure and Storag</option>
      <option>Data Protection and Availability</option>
      <option>Operating Model</option>
      <option>Cloud</option>
      <option>Big Data</option>
      <option>Applications</option>
      <option>Training and Certification</option>
      <option>Customer Service</option>
    </select>
  </ion-item>
  <ion-item class="item-input item-select">
  <div class="input-label">Sort By</div>
    <select ng-model="search.order">
      <option>No Filter</option>
      <option>Relevance</option>
      <option>Upload Date</option>
      <option>View Count</option>
      <option>Rating</option>
    </select>
  </ion-item>
  <button class="button button-block round button-positive" ng-click="AdvancedShow=false; search(search)">Search</button>
</ion-list>

<!--need to change source for query instead of all-->
  <div class="list list-inset" ng-repeat='item in data.Ideas' ng-hide="AdvancedShow">
        <a class="item item-divider" href="#/app/home/{{item.id}}" ion-track-tap="Click Search Document" ion-track-data="{ID: item.id}">{{item.Title}}</a>
        <a class="item item-body" href="#/app/home/{{item.id}}" ion-track-tap="Click Search Document" ion-track-data="{ID: item.id}">

    {{item.Description| limitTo: checkComplete(item.Description, 150)}} ... 
    <br>
    <p>     
      <span ng-controller="UnchangeRatingController" style="float:right">
        <i class="icon ion-android-star" style="color:{{getStarColor(1)}}"></i>
        <i class="icon ion-android-star" style="color:{{getStarColor(2)}}"></i>
        <i class="icon ion-android-star" style="color:{{getStarColor(3)}}"></i>
        <i class="icon ion-android-star" style="color:{{getStarColor(4)}}"></i>
        <i class="icon ion-android-star" style="color:{{getStarColor(5)}}"></i>
      </span></p>
    <p><span>{{tagProcessor(item.tags);}} </span></p>
          
        </a>

    </div>

  </ion-content>
</ion-view>
