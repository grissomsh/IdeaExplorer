
<ion-view>
<ion-content class="page-bg">
<div class="list list-inset" ng-repeat='item in data.Ideas | filter: {id: currentPage}' >
	<div class="item item-divider">{{item.title}}
		<p>By<span ng-repeat="innovator in item.innovators"> <a ng-href="mailto:{{innovator.email}}">{{innovator.name}}</a></span>
		</p>
		<p><span style="float:left">Submitted on {{item.submit_date | limitTo: 10}}</span><span style="float:right">Hit rate: {{item.HitRate}}</span></p>
	</div>
	<div ng-repeat="title in sections">
	<div class="item item-divider item-icon-right" ng-click="section_select(title[1])">{{title[0]}}
		<i class="icon ion-android-arrow-dropdown" ng-if="!show_section[title[1]]"></i>
		<i class="icon ion-android-arrow-dropup" ng-if="show_section[title[1]]"></i>
	</div>
	<div class="item item-body" ng-show="show_section[title[1]]">
		{{item[title[1]]}}
	</div>
	</div>
	<div class="item item-body">
		<p><span>{{tagProcessor(item.tags);}}</span></p>

	</div>
	<div ng-show="item.Comments">
		<div class="item item-divider">
			{{item.Comments.length==1? 'Comment': 'Comments'}}
		</div>
		<div class="item item-body" ng-repeat="Comment in item.Comments">
			<div class="item item-avatar"><img src="http://placehold.it/100x100" alt="Avatar">
				<h2>{{Comment.User}}</h2>
				<p>{{Comment.Content}}</p>
			</div>
			
		</div>
	</div>

</div>

</ion-content>
<div class="bar bar-footer">
	<div class="button-bar">
		<button class="button icon-left ion-android-star-outline" ng-if="!toggleLikes"
		ng-click="like(currentIndex, data);">{{data.Ideas[currentIndex].likes_count}}</button>
				<button class="button icon-left ion-android-star button-assertive" ng-if="toggleLikes" ng-click="unlike(currentIndex, data)">{{data.Ideas[currentIndex].likes_count}}</button>
		<button class="button icon-left ion-compose" ng-click="openModal()">Comment</button>
	</div>

</div>

</ion-view>


